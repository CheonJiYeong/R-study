exam <- read.csv("csv_exam.csv")

#----------------

exam[] #조건 ?????? ?????? ????????? 출력

exam[1, ] #1??? 추출
exam[2, ] #2??? 추출

#-------조건??? 충족?????? ??? 추출??????-------

exam[exam$class == 1, ] #class가 1??? ??? 추출
exam[exam$math >= 80, ] #?????? ??????가 80??? ????????? ??? 추출

#1반이면서 ?????? ??????가 50??? ??????
exam[exam$class == 1 & exam$math >= 50, ]
#?????? ??????가 90??? 미만???거나 과학 ??????가 50??? 미만
exam[exam$english < 90 | exam$science < 50, ]

#--------??? 번호??? 변??? 추출??????-------

exam[, 1] #??? 번째 ??? 추출
exam[, 2] #??? 번째 ??? 추출
exam[, 3] #??? 번째 ??? 추출

#-------변???명으??? 변??? 추출??????-------

exam[, "class"] #class 변??? 추출
exam[, "math"] #math 변??? 추출

exam[, c("class", "math", "english")] #class, math, english 변??? 추출


#-------???, 변??? ????????? 추출??????-------

#???, 변??? 모두 ?????????
exam[1, 3]

#??? ?????????, ??? 변??????
exam[5, "english"]

#??? 부?????? 조건, ??? 변??????
exam[exam$math >= 50, "english"]

#??? 부?????? 조건, ??? 변??????
exam[exam$math >= 50, c("english", "science")]


#-------dplyr??? ?????? ????????? 차이-------
#문제: ???????????? 50 ??????, ?????? ?????? 80 ????????? ???????????? ???????????? ??? 반의 ???과목 총평균을 구하???.

#????????????코드
exam$tot <- (exam$math + exam$english + exam$science)/3
aggregate(data=exam[exam$math >= 50 & exam$english >= 80,],
          tot~class, mean)

#dplyr 코드
exam %>%
  filter(math >= 50 & english >= 80) %>%
  mutate(tot = (math + english + science)/3) %>%
  group_by(class) %>%
  summarise(mean = mean(tot))
  
# dplyr 코드가 ??????????????? 비해 가????????? ?????? ???????????? ??????.